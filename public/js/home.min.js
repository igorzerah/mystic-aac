"use strict";class HomePageInteractions{constructor(){this.statNumbers=document.querySelectorAll(".stat-number"),this.initializeEventListeners()}initializeEventListeners(){document.addEventListener("DOMContentLoaded",(()=>{this.animateStatNumbers(),this.setupNewsModals(),this.setupShareFunctions()}))}animateStatNumbers(){this.statNumbers.forEach((e=>{const t=parseInt(e.getAttribute("data-target")||"0");let o=0;const n=t/100,r=()=>{o+=n,e.textContent=Math.round(o).toString(),o<t?requestAnimationFrame(r):e.textContent=t.toString()};r()}))}setupNewsModals(){document.querySelectorAll('[data-modal^="newsModal"]').forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("data-modal");if(!o)return;const n=document.getElementById(o);if(!n)return;n.classList.add("show"),n.style.display="block";const r=n.querySelector(".modal-close");r&&r.addEventListener("click",(()=>{n.classList.remove("show"),setTimeout((()=>{n.style.display="none"}),300)}))}))}))}setupShareFunctions(){document.querySelectorAll(".modal-share-icons a").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.closest(".modal-content");if(!o)return;const n=o.querySelector(".modal-header h2"),r=n?.textContent||"",a=window.location.href,s=e.querySelector(".fa-facebook"),c=e.querySelector(".fa-twitter"),i=e.querySelector(".fa-link");s?this.shareOnFacebook(a,r):c?this.shareOnTwitter(r):i&&this.copyNewsLink(a)}))}))}shareOnFacebook(e,t){const o=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}&quote=${encodeURIComponent(t)}`;window.open(o,"_blank")}shareOnTwitter(e){const t=`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}`;window.open(t,"_blank")}copyNewsLink(e){navigator.clipboard.writeText(e).then((()=>{alert("Link copiado com sucesso!")})).catch((e=>{console.error("Erro ao copiar link:",e)}))}}function shareOnFacebook(e,t){const o=t||window.location.href,n=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(o)}&quote=${encodeURIComponent(e)}`;window.open(n,"_blank")}function shareOnTwitter(e,t){const o=t||window.location.href,n=`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}&url=${encodeURIComponent(o)}`;window.open(n,"_blank")}function copyNewsLink(e){const t=document.getElementById(`newsModal${e}`);if(!t)return;const o=t.querySelector(".modal-header h2")?.textContent||"",n=t.querySelector(".btn-read-more.modal-action"),r=n?n.href:window.location.href;navigator.clipboard.writeText(r).then((()=>{alert(`Link da notÃ­cia "${o}" copiado com sucesso!`)})).catch((e=>{console.error("Erro ao copiar link:",e)}))}new HomePageInteractions;